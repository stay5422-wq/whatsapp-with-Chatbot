services:
  - type: web
    name: whatsapp-server
    env: node
    buildCommand: npm install && npm install -g puppeteer
    startCommand: node whatsapp-server.js
    envVars:
      - key: NODE_VERSION
        value: 22.21.1
      - key: PUPPETEER_SKIP_CHROMIUM_DOWNLOAD
        value: false
      - key: PUPPETEER_EXECUTABLE_PATH
        value: /usr/bin/google-chrome-stable
    # Install Chrome and dependencies
    buildFilter:
      paths:
        - package.json
        - whatsapp-server.js
